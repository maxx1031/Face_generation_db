<mxfile host="app.diagrams.net" agent="Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/144.0.0.0 Safari/537.36" version="29.3.7">
  <diagram name="Architecture" id="9EYzDqSkySK-rgYFBzHS">
    <mxGraphModel dx="2107" dy="947" grid="0" gridSize="10" guides="1" tooltips="1" connect="1" arrows="1" fold="1" page="0" pageScale="1" pageWidth="827" pageHeight="1169" math="0" shadow="0">
      <root>
        <mxCell id="0" />
        <mxCell id="1" parent="0" />
        <mxCell id="sWFFTnbAKkjl3vQsKtu8-1" parent="1" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#f8cecc;strokeColor=#b85450;fontSize=11;fontStyle=1;" value="Trainable Modules" vertex="1">
          <mxGeometry height="30" width="140" x="1350" y="30" as="geometry" />
        </mxCell>
        <mxCell id="sWFFTnbAKkjl3vQsKtu8-2" parent="1" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#dae8fc;strokeColor=#6c8ebf;fontSize=11;fontStyle=1;" value="Frozen Modules" vertex="1">
          <mxGeometry height="30" width="140" x="1350" y="70" as="geometry" />
        </mxCell>
        <mxCell id="sWFFTnbAKkjl3vQsKtu8-3" parent="1" style="text;html=1;fontSize=16;align=center;" value="í ½í´¥" vertex="1">
          <mxGeometry height="30" width="30" x="1500" y="25" as="geometry" />
        </mxCell>
        <mxCell id="sWFFTnbAKkjl3vQsKtu8-4" parent="1" style="text;html=1;fontSize=16;align=center;" value="â„ï¸" vertex="1">
          <mxGeometry height="30" width="30" x="1500" y="65" as="geometry" />
        </mxCell>
        <mxCell id="sWFFTnbAKkjl3vQsKtu8-5" parent="1" style="text;html=1;fontSize=11;align=center;verticalAlign=middle;" value="&lt;b&gt;I_r&lt;/b&gt;&lt;br&gt;Reference Image&lt;br&gt;(Identity Anchor)" vertex="1">
          <mxGeometry height="50" width="120" x="5" y="84" as="geometry" />
        </mxCell>
        <mxCell id="sWFFTnbAKkjl3vQsKtu8-6" parent="1" style="shape=image;verticalLabelPosition=bottom;labelBackgroundColor=default;verticalAlign=top;imageWidth=70;imageHeight=70;fillColor=#f5f5f5;strokeColor=#666666;rounded=1;" value="" vertex="1">
          <mxGeometry height="70" width="70" x="45" y="95" as="geometry" />
        </mxCell>
        <mxCell id="sWFFTnbAKkjl3vQsKtu8-7" parent="1" style="text;html=1;fontSize=10;align=center;fontColor=#333333;" value="í ½í±¤ Person B" vertex="1">
          <mxGeometry height="20" width="90" x="20" y="123" as="geometry" />
        </mxCell>
        <mxCell id="sWFFTnbAKkjl3vQsKtu8-8" parent="1" style="text;html=1;fontSize=11;align=center;verticalAlign=middle;" value="&lt;b&gt;I_e&lt;/b&gt;&lt;br&gt;Editable Image" vertex="1">
          <mxGeometry height="40" width="120" x="-10" y="578" as="geometry" />
        </mxCell>
        <mxCell id="sWFFTnbAKkjl3vQsKtu8-9" parent="1" style="shape=image;verticalLabelPosition=bottom;labelBackgroundColor=default;verticalAlign=top;imageWidth=70;imageHeight=70;fillColor=#f5f5f5;strokeColor=#666666;rounded=1;" value="" vertex="1">
          <mxGeometry height="70" width="70" x="45" y="585" as="geometry" />
        </mxCell>
        <mxCell id="sWFFTnbAKkjl3vQsKtu8-10" parent="1" style="text;html=1;fontSize=10;align=center;fontColor=#333333;" value="í ½í±¤ Person A (or B)" vertex="1">
          <mxGeometry height="20" width="110" y="615" as="geometry" />
        </mxCell>
        <mxCell id="sWFFTnbAKkjl3vQsKtu8-11" parent="1" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#fff2cc;strokeColor=#d6b656;opacity=30;" value="" vertex="1">
          <mxGeometry height="260" width="520" x="170" y="20" as="geometry" />
        </mxCell>
        <mxCell id="sWFFTnbAKkjl3vQsKtu8-12" parent="1" style="text;html=1;fontSize=13;fontColor=#7F6000;align=left;" value="&lt;b&gt;Phase 1: Thinking&lt;/b&gt;" vertex="1">
          <mxGeometry height="25" width="200" x="180" y="25" as="geometry" />
        </mxCell>
        <mxCell id="sWFFTnbAKkjl3vQsKtu8-13" parent="1" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#dae8fc;strokeColor=#6c8ebf;fontSize=12;verticalAlign=middle;" value="&lt;b&gt;MLLM&lt;/b&gt;&lt;br&gt;(Qwen-VL)&lt;br&gt;â„ï¸ Frozen" vertex="1">
          <mxGeometry height="60" width="160" x="250" y="70" as="geometry" />
        </mxCell>
        <mxCell id="sWFFTnbAKkjl3vQsKtu8-14" edge="1" parent="1" source="sWFFTnbAKkjl3vQsKtu8-6" style="edgeStyle=orthogonalEdgeStyle;rounded=1;strokeWidth=2;strokeColor=#6c8ebf;fillColor=#dae8fc;" target="sWFFTnbAKkjl3vQsKtu8-13">
          <mxGeometry relative="1" as="geometry">
            <Array as="points">
              <mxPoint x="161" y="130" />
              <mxPoint x="161" y="100" />
            </Array>
          </mxGeometry>
        </mxCell>
        <mxCell id="sWFFTnbAKkjl3vQsKtu8-15" edge="1" parent="1" source="sWFFTnbAKkjl3vQsKtu8-9" style="edgeStyle=orthogonalEdgeStyle;rounded=1;strokeWidth=1.5;strokeColor=#6c8ebf;fillColor=#dae8fc;" target="sWFFTnbAKkjl3vQsKtu8-13">
          <mxGeometry relative="1" as="geometry">
            <Array as="points">
              <mxPoint x="160" y="620" />
              <mxPoint x="160" y="100" />
            </Array>
          </mxGeometry>
        </mxCell>
        <mxCell id="sWFFTnbAKkjl3vQsKtu8-16" parent="1" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#f5f5f5;strokeColor=#999999;fontSize=10;align=left;spacingLeft=8;" value="&lt;font style=&quot;font-size:10px&quot;&gt;&lt;i&gt;Structured Edit Plan:&lt;/i&gt;&lt;br&gt;1. Face Analysis (I_r)&lt;br&gt;2. Reference Analysis (I_e)&lt;br&gt;3. Differences&lt;br&gt;4. Edit Plan&lt;/font&gt;" vertex="1">
          <mxGeometry height="85" width="210" x="460" y="57.5" as="geometry" />
        </mxCell>
        <mxCell id="sWFFTnbAKkjl3vQsKtu8-17" edge="1" parent="1" source="sWFFTnbAKkjl3vQsKtu8-13" style="edgeStyle=orthogonalEdgeStyle;rounded=1;strokeWidth=1.5;" target="sWFFTnbAKkjl3vQsKtu8-16">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="sWFFTnbAKkjl3vQsKtu8-18" parent="1" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#e1d5e7;strokeColor=#9673a6;fontSize=11;" value="&lt;b&gt;Hidden States&lt;/b&gt;&lt;br&gt;(prefix-filtered)" vertex="1">
          <mxGeometry height="40" width="180" x="240" y="173" as="geometry" />
        </mxCell>
        <mxCell id="sWFFTnbAKkjl3vQsKtu8-19" edge="1" parent="1" source="sWFFTnbAKkjl3vQsKtu8-13" style="edgeStyle=orthogonalEdgeStyle;rounded=1;strokeWidth=2;" target="sWFFTnbAKkjl3vQsKtu8-18">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="sWFFTnbAKkjl3vQsKtu8-20" edge="1" parent="1" source="sWFFTnbAKkjl3vQsKtu8-16" style="edgeStyle=orthogonalEdgeStyle;rounded=1;strokeWidth=1;strokeColor=#999999;dashed=1;" target="sWFFTnbAKkjl3vQsKtu8-18">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="sWFFTnbAKkjl3vQsKtu8-21" parent="1" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#fce5cd;strokeColor=#d79b00;opacity=30;" value="" vertex="1">
          <mxGeometry height="120" width="520" x="170" y="290" as="geometry" />
        </mxCell>
        <mxCell id="sWFFTnbAKkjl3vQsKtu8-22" parent="1" style="text;html=1;fontSize=13;fontColor=#7F4000;align=left;" value="&lt;b&gt;Phase 2: Conditioning Extraction&lt;/b&gt;" vertex="1">
          <mxGeometry height="25" width="280" x="180" y="295" as="geometry" />
        </mxCell>
        <mxCell id="sWFFTnbAKkjl3vQsKtu8-23" parent="1" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#f8cecc;strokeColor=#b85450;fontSize=11;" value="&lt;b&gt;Query-Based Resampler&lt;/b&gt;&lt;br&gt;N learnable queries Ã— cross-attn&lt;br&gt;í ½í´¥ Trainable" vertex="1">
          <mxGeometry height="55" width="230" x="215" y="335" as="geometry" />
        </mxCell>
        <mxCell id="sWFFTnbAKkjl3vQsKtu8-24" edge="1" parent="1" source="sWFFTnbAKkjl3vQsKtu8-18" style="edgeStyle=orthogonalEdgeStyle;rounded=1;strokeWidth=2;" target="sWFFTnbAKkjl3vQsKtu8-23">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="sWFFTnbAKkjl3vQsKtu8-25" parent="1" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#d5e8d4;strokeColor=#82b366;fontSize=10;" value="&lt;b&gt;Edit Tokens&lt;/b&gt;&lt;br&gt;(N Ã— d)" vertex="1">
          <mxGeometry height="35" width="100" x="510" y="320" as="geometry" />
        </mxCell>
        <mxCell id="sWFFTnbAKkjl3vQsKtu8-26" parent="1" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#d5e8d4;strokeColor=#82b366;fontSize=10;" value="&lt;b&gt;Global Vec&lt;/b&gt;&lt;br&gt;(1 Ã— d)" vertex="1">
          <mxGeometry height="35" width="100" x="510" y="365" as="geometry" />
        </mxCell>
        <mxCell id="sWFFTnbAKkjl3vQsKtu8-27" edge="1" parent="1" source="sWFFTnbAKkjl3vQsKtu8-23" style="edgeStyle=orthogonalEdgeStyle;rounded=1;strokeWidth=1.5;" target="sWFFTnbAKkjl3vQsKtu8-25">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="sWFFTnbAKkjl3vQsKtu8-28" edge="1" parent="1" source="sWFFTnbAKkjl3vQsKtu8-23" style="edgeStyle=orthogonalEdgeStyle;rounded=1;strokeWidth=1.5;" target="sWFFTnbAKkjl3vQsKtu8-26">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="sWFFTnbAKkjl3vQsKtu8-29" parent="1" style="text;html=1;fontSize=9;fontColor=#548235;align=left;" value="â†’ Token Concat" vertex="1">
          <mxGeometry height="20" width="90" x="615" y="325" as="geometry" />
        </mxCell>
        <mxCell id="sWFFTnbAKkjl3vQsKtu8-30" parent="1" style="text;html=1;fontSize=9;fontColor=#548235;align=left;" value="â†’ Adaptive LN" vertex="1">
          <mxGeometry height="20" width="90" x="615" y="370" as="geometry" />
        </mxCell>
        <mxCell id="sWFFTnbAKkjl3vQsKtu8-31" parent="1" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#f8cecc;strokeColor=#b85450;opacity=20;" value="" vertex="1">
          <mxGeometry height="100" width="520" x="170" y="430" as="geometry" />
        </mxCell>
        <mxCell id="sWFFTnbAKkjl3vQsKtu8-32" parent="1" style="text;html=1;fontSize=13;fontColor=#990000;align=left;" value="&lt;b&gt;Identity Branch (Parallel)&lt;/b&gt;" vertex="1">
          <mxGeometry height="25" width="250" x="180" y="435" as="geometry" />
        </mxCell>
        <mxCell id="sWFFTnbAKkjl3vQsKtu8-33" parent="1" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#dae8fc;strokeColor=#6c8ebf;fontSize=10;" value="&lt;b&gt;Face ID&lt;br&gt;Encoder&lt;/b&gt;&lt;br&gt;â„ï¸" vertex="1">
          <mxGeometry height="50" width="90" x="200" y="465" as="geometry" />
        </mxCell>
        <mxCell id="sWFFTnbAKkjl3vQsKtu8-34" parent="1" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#f8cecc;strokeColor=#b85450;fontSize=10;" value="&lt;b&gt;Projection&lt;br&gt;Network&lt;/b&gt;&lt;br&gt;í ½í´¥" vertex="1">
          <mxGeometry height="50" width="90" x="330" y="465" as="geometry" />
        </mxCell>
        <mxCell id="sWFFTnbAKkjl3vQsKtu8-35" parent="1" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#f8cecc;strokeColor=#b85450;fontSize=10;" value="&lt;b&gt;InfuseNet&lt;/b&gt;&lt;br&gt;N DiT Blocks&lt;br&gt;í ½í´¥" vertex="1">
          <mxGeometry height="50" width="110" x="460" y="465" as="geometry" />
        </mxCell>
        <mxCell id="sWFFTnbAKkjl3vQsKtu8-36" edge="1" parent="1" source="sWFFTnbAKkjl3vQsKtu8-6" style="edgeStyle=orthogonalEdgeStyle;rounded=1;strokeWidth=2;fillColor=#dae8fc;strokeColor=#6c8ebf;" target="sWFFTnbAKkjl3vQsKtu8-33">
          <mxGeometry relative="1" as="geometry">
            <Array as="points">
              <mxPoint x="80" y="490" />
            </Array>
          </mxGeometry>
        </mxCell>
        <mxCell id="sWFFTnbAKkjl3vQsKtu8-37" edge="1" parent="1" source="sWFFTnbAKkjl3vQsKtu8-33" style="edgeStyle=orthogonalEdgeStyle;rounded=1;strokeWidth=2;" target="sWFFTnbAKkjl3vQsKtu8-34">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="sWFFTnbAKkjl3vQsKtu8-38" edge="1" parent="1" source="sWFFTnbAKkjl3vQsKtu8-34" style="edgeStyle=orthogonalEdgeStyle;rounded=1;strokeWidth=2;" target="sWFFTnbAKkjl3vQsKtu8-35">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="sWFFTnbAKkjl3vQsKtu8-39" parent="1" style="text;html=1;fontSize=10;fontColor=#990000;fontStyle=1;align=center;" value="Identity Residuals&lt;br&gt;(face region only)" vertex="1">
          <mxGeometry height="30" width="120" x="590" y="475" as="geometry" />
        </mxCell>
        <mxCell id="sWFFTnbAKkjl3vQsKtu8-40" edge="1" parent="1" source="sWFFTnbAKkjl3vQsKtu8-35" style="edgeStyle=orthogonalEdgeStyle;rounded=1;strokeWidth=2;strokeColor=#b85450;" target="sWFFTnbAKkjl3vQsKtu8-39">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="sWFFTnbAKkjl3vQsKtu8-41" parent="1" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#dae8fc;strokeColor=#6c8ebf;opacity=20;" value="" vertex="1">
          <mxGeometry height="500" width="560" x="918" y="198" as="geometry" />
        </mxCell>
        <mxCell id="sWFFTnbAKkjl3vQsKtu8-42" parent="1" style="text;html=1;fontSize=13;fontColor=#003366;align=left;" value="&lt;b&gt;Phase 3: DiT Generation&lt;/b&gt;" vertex="1">
          <mxGeometry height="25" width="250" x="928" y="203" as="geometry" />
        </mxCell>
        <mxCell id="sWFFTnbAKkjl3vQsKtu8-43" parent="1" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#f5f5f5;strokeColor=#CCCCCC;" value="" vertex="1">
          <mxGeometry height="50" width="500" x="948" y="243" as="geometry" />
        </mxCell>
        <mxCell id="sWFFTnbAKkjl3vQsKtu8-44" parent="1" style="text;html=1;fontSize=10;align=left;fontColor=#666666;" value="&lt;b&gt;Token Sequence&lt;/b&gt;" vertex="1">
          <mxGeometry height="15" width="120" x="951" y="238" as="geometry" />
        </mxCell>
        <mxCell id="sWFFTnbAKkjl3vQsKtu8-45" parent="1" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#d5e8d4;strokeColor=#82b366;fontSize=9;" value="Edit Tokens&lt;br&gt;(N)" vertex="1">
          <mxGeometry height="25" width="85" x="958" y="263" as="geometry" />
        </mxCell>
        <mxCell id="sWFFTnbAKkjl3vQsKtu8-46" parent="1" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#dae8fc;strokeColor=#6c8ebf;fontSize=9;" value="Source VAE&lt;br&gt;(1024)" vertex="1">
          <mxGeometry height="25" width="85" x="1053" y="263" as="geometry" />
        </mxCell>
        <mxCell id="sWFFTnbAKkjl3vQsKtu8-47" parent="1" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#fff2cc;strokeColor=#d6b656;fontSize=9;" value="Landmarks&lt;br&gt;(68)" vertex="1">
          <mxGeometry height="25" width="85" x="1148" y="263" as="geometry" />
        </mxCell>
        <mxCell id="sWFFTnbAKkjl3vQsKtu8-48" parent="1" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#e1d5e7;strokeColor=#9673a6;fontSize=9;" value="Noisy Target&lt;br&gt;(1024)" vertex="1">
          <mxGeometry height="25" width="95" x="1243" y="263" as="geometry" />
        </mxCell>
        <mxCell id="sWFFTnbAKkjl3vQsKtu8-49" parent="1" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#dae8fc;strokeColor=#6c8ebf;fontSize=10;" value="&lt;b&gt;DiT&lt;br&gt;Block 1&lt;/b&gt;" vertex="1">
          <mxGeometry height="60" width="80" x="968" y="338" as="geometry" />
        </mxCell>
        <mxCell id="sWFFTnbAKkjl3vQsKtu8-50" parent="1" style="ellipse;whiteSpace=wrap;html=1;fillColor=#f8cecc;strokeColor=#b85450;fontSize=10;" value="&lt;b&gt;(+)&lt;/b&gt;" vertex="1">
          <mxGeometry height="30" width="30" x="1058" y="353" as="geometry" />
        </mxCell>
        <mxCell id="sWFFTnbAKkjl3vQsKtu8-51" parent="1" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#dae8fc;strokeColor=#6c8ebf;fontSize=10;" value="&lt;b&gt;DiT&lt;br&gt;Block 2&lt;/b&gt;" vertex="1">
          <mxGeometry height="60" width="80" x="1098" y="338" as="geometry" />
        </mxCell>
        <mxCell id="sWFFTnbAKkjl3vQsKtu8-52" parent="1" style="text;html=1;fontSize=16;align=center;" value="&lt;b&gt;Â· Â· Â·&lt;/b&gt;" vertex="1">
          <mxGeometry height="30" width="40" x="1188" y="353" as="geometry" />
        </mxCell>
        <mxCell id="sWFFTnbAKkjl3vQsKtu8-53" parent="1" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#dae8fc;strokeColor=#6c8ebf;fontSize=10;" value="&lt;b&gt;DiT&lt;br&gt;Block N&lt;/b&gt;" vertex="1">
          <mxGeometry height="60" width="80" x="1238" y="338" as="geometry" />
        </mxCell>
        <mxCell id="sWFFTnbAKkjl3vQsKtu8-54" edge="1" parent="1" source="sWFFTnbAKkjl3vQsKtu8-49" style="strokeWidth=2;" target="sWFFTnbAKkjl3vQsKtu8-50">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="sWFFTnbAKkjl3vQsKtu8-55" edge="1" parent="1" source="sWFFTnbAKkjl3vQsKtu8-50" style="strokeWidth=2;" target="sWFFTnbAKkjl3vQsKtu8-51">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="sWFFTnbAKkjl3vQsKtu8-56" edge="1" parent="1" source="sWFFTnbAKkjl3vQsKtu8-51" style="strokeWidth=2;" target="sWFFTnbAKkjl3vQsKtu8-52">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="sWFFTnbAKkjl3vQsKtu8-57" edge="1" parent="1" source="sWFFTnbAKkjl3vQsKtu8-52" style="strokeWidth=2;" target="sWFFTnbAKkjl3vQsKtu8-53">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="sWFFTnbAKkjl3vQsKtu8-58" edge="1" parent="1" source="sWFFTnbAKkjl3vQsKtu8-43" style="edgeStyle=orthogonalEdgeStyle;rounded=1;strokeWidth=2;" target="sWFFTnbAKkjl3vQsKtu8-49">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="sWFFTnbAKkjl3vQsKtu8-59" edge="1" parent="1" source="sWFFTnbAKkjl3vQsKtu8-39" style="edgeStyle=orthogonalEdgeStyle;rounded=1;strokeWidth=2;strokeColor=#b85450;dashed=1;dashPattern=8 4;" target="sWFFTnbAKkjl3vQsKtu8-50" value="Region-Aware&lt;br&gt;Residual (+)">
          <mxGeometry relative="1" as="geometry">
            <Array as="points">
              <mxPoint x="1069" y="488" />
            </Array>
            <mxPoint x="899" y="488" as="sourcePoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="sWFFTnbAKkjl3vQsKtu8-60" parent="1" style="text;html=1;fontSize=9;fontColor=#b85450;align=center;" value="&lt;i&gt;hidden[face_mask] += residual&lt;br&gt;hidden[non_face] unchanged&lt;/i&gt;" vertex="1">
          <mxGeometry height="25" width="170" x="1018" y="413" as="geometry" />
        </mxCell>
        <mxCell id="sWFFTnbAKkjl3vQsKtu8-61" edge="1" parent="1" source="sWFFTnbAKkjl3vQsKtu8-26" style="edgeStyle=orthogonalEdgeStyle;rounded=1;strokeWidth=1.5;strokeColor=#82b366;dashed=1;" target="sWFFTnbAKkjl3vQsKtu8-49" value="Adaptive LayerNorm">
          <mxGeometry relative="1" as="geometry">
            <Array as="points">
              <mxPoint x="700" y="382" />
              <mxPoint x="700" y="320" />
              <mxPoint x="820" y="320" />
            </Array>
          </mxGeometry>
        </mxCell>
        <mxCell id="sWFFTnbAKkjl3vQsKtu8-62" edge="1" parent="1" source="sWFFTnbAKkjl3vQsKtu8-25" style="edgeStyle=orthogonalEdgeStyle;rounded=1;strokeWidth=1.5;strokeColor=#82b366;" target="sWFFTnbAKkjl3vQsKtu8-45">
          <mxGeometry relative="1" as="geometry">
            <Array as="points">
              <mxPoint x="660" y="275" />
            </Array>
          </mxGeometry>
        </mxCell>
        <mxCell id="sWFFTnbAKkjl3vQsKtu8-63" parent="1" style="text;html=1;fontSize=10;align=center;" value="&lt;b&gt;z_T ~ N(0,I)&lt;/b&gt;&lt;br&gt;Pure Noise" vertex="1">
          <mxGeometry height="35" width="90" x="1248" y="193" as="geometry" />
        </mxCell>
        <mxCell id="sWFFTnbAKkjl3vQsKtu8-64" parent="1" style="text;html=1;fontSize=10;align=center;fontColor=#666666;" value="&lt;b&gt;Timestep t&lt;/b&gt;" vertex="1">
          <mxGeometry height="20" width="80" x="938" y="308" as="geometry" />
        </mxCell>
        <mxCell id="sWFFTnbAKkjl3vQsKtu8-65" parent="1" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#f5f5f5;strokeColor=#999999;fontSize=10;fontStyle=0;" value="&lt;b&gt;Iterative Denoising&lt;/b&gt;&lt;br&gt;t = T â†’ 1&lt;br&gt;(20-50 steps)" vertex="1">
          <mxGeometry height="60" width="110" x="1348" y="338" as="geometry" />
        </mxCell>
        <mxCell id="sWFFTnbAKkjl3vQsKtu8-66" edge="1" parent="1" source="sWFFTnbAKkjl3vQsKtu8-53" style="strokeWidth=1.5;" target="sWFFTnbAKkjl3vQsKtu8-65">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="sWFFTnbAKkjl3vQsKtu8-67" parent="1" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#dae8fc;strokeColor=#6c8ebf;fontSize=11;" value="&lt;b&gt;VAE&lt;br&gt;Decoder&lt;/b&gt;&lt;br&gt;â„ï¸" vertex="1">
          <mxGeometry height="60" width="90" x="1358" y="438" as="geometry" />
        </mxCell>
        <mxCell id="sWFFTnbAKkjl3vQsKtu8-68" edge="1" parent="1" source="sWFFTnbAKkjl3vQsKtu8-65" style="edgeStyle=orthogonalEdgeStyle;rounded=1;strokeWidth=2;" target="sWFFTnbAKkjl3vQsKtu8-67">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="sWFFTnbAKkjl3vQsKtu8-69" parent="1" style="text;html=1;fontSize=11;align=center;verticalAlign=middle;" value="&lt;b&gt;I_out&lt;/b&gt;&lt;br&gt;Generated Image" vertex="1">
          <mxGeometry height="40" width="110" x="1348" y="518" as="geometry" />
        </mxCell>
        <mxCell id="sWFFTnbAKkjl3vQsKtu8-70" parent="1" style="shape=image;verticalLabelPosition=bottom;labelBackgroundColor=default;verticalAlign=top;imageWidth=70;imageHeight=70;fillColor=#f5f5f5;strokeColor=#82b366;rounded=1;strokeWidth=2;" value="" vertex="1">
          <mxGeometry height="70" width="70" x="1368" y="563" as="geometry" />
        </mxCell>
        <mxCell id="sWFFTnbAKkjl3vQsKtu8-71" edge="1" parent="1" source="sWFFTnbAKkjl3vQsKtu8-67" style="edgeStyle=orthogonalEdgeStyle;rounded=1;strokeWidth=2;" target="sWFFTnbAKkjl3vQsKtu8-69">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="sWFFTnbAKkjl3vQsKtu8-72" parent="1" style="text;html=1;fontSize=10;fontColor=#006600;fontStyle=1;align=center;" value="Identity(I_out) â‰¡ Identity(I_e) âœ“" vertex="1">
          <mxGeometry height="20" width="190" x="1299" y="588" as="geometry" />
        </mxCell>
        <mxCell id="sWFFTnbAKkjl3vQsKtu8-73" parent="1" style="text;html=1;fontSize=10;fontColor=#006600;fontStyle=1;align=center;" value="Edits from I_e applied âœ“" vertex="1">
          <mxGeometry height="20" width="190" x="1299" y="602" as="geometry" />
        </mxCell>
        <mxCell id="sWFFTnbAKkjl3vQsKtu8-74" parent="1" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#dae8fc;strokeColor=#6c8ebf;fontSize=10;" value="&lt;b&gt;VAE&lt;br&gt;Encoder&lt;/b&gt;&lt;br&gt;â„ï¸" vertex="1">
          <mxGeometry height="50" width="80" x="200" y="600" as="geometry" />
        </mxCell>
        <mxCell id="sWFFTnbAKkjl3vQsKtu8-75" edge="1" parent="1" style="rounded=1;strokeWidth=2;fillColor=#dae8fc;strokeColor=#6c8ebf;" target="sWFFTnbAKkjl3vQsKtu8-74">
          <mxGeometry relative="1" as="geometry">
            <mxPoint x="111" y="625" as="sourcePoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="sWFFTnbAKkjl3vQsKtu8-76" edge="1" parent="1" source="sWFFTnbAKkjl3vQsKtu8-74" style="edgeStyle=orthogonalEdgeStyle;rounded=1;strokeWidth=1.5;strokeColor=#6c8ebf;" target="sWFFTnbAKkjl3vQsKtu8-46" value="Source Latent&lt;br&gt;+ Noisy Target">
          <mxGeometry relative="1" x="-0.0006" as="geometry">
            <mxPoint as="offset" />
            <Array as="points">
              <mxPoint x="240" y="548" />
              <mxPoint x="750" y="548" />
              <mxPoint x="750" y="231" />
              <mxPoint x="1096" y="231" />
            </Array>
          </mxGeometry>
        </mxCell>
        <mxCell id="sWFFTnbAKkjl3vQsKtu8-77" parent="1" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#647687;strokeColor=#314354;fontSize=10;fontColor=#ffffff;" value="&lt;b&gt;Landmark&lt;br&gt;Detector&lt;/b&gt;" vertex="1">
          <mxGeometry height="50" width="80" x="200" y="679" as="geometry" />
        </mxCell>
        <mxCell id="sWFFTnbAKkjl3vQsKtu8-78" parent="1" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#fff2cc;strokeColor=#d6b656;fontSize=10;" value="&lt;b&gt;VQ-VAE&lt;br&gt;Tokenizer&lt;/b&gt;" vertex="1">
          <mxGeometry height="50" width="80" x="330" y="679" as="geometry" />
        </mxCell>
        <mxCell id="sWFFTnbAKkjl3vQsKtu8-79" edge="1" parent="1" source="sWFFTnbAKkjl3vQsKtu8-10" style="edgeStyle=orthogonalEdgeStyle;rounded=1;strokeWidth=1.5;exitX=1;exitY=0.75;exitDx=0;exitDy=0;strokeColor=#666666;" target="sWFFTnbAKkjl3vQsKtu8-77">
          <mxGeometry relative="1" as="geometry">
            <Array as="points">
              <mxPoint x="145" y="630" />
              <mxPoint x="145" y="746" />
            </Array>
          </mxGeometry>
        </mxCell>
        <mxCell id="sWFFTnbAKkjl3vQsKtu8-80" edge="1" parent="1" source="sWFFTnbAKkjl3vQsKtu8-77" style="strokeWidth=1.5;" target="sWFFTnbAKkjl3vQsKtu8-78">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="sWFFTnbAKkjl3vQsKtu8-81" edge="1" parent="1" source="sWFFTnbAKkjl3vQsKtu8-78" style="edgeStyle=orthogonalEdgeStyle;rounded=1;strokeWidth=1.5;strokeColor=#d6b656;" target="sWFFTnbAKkjl3vQsKtu8-47">
          <mxGeometry relative="1" as="geometry">
            <Array as="points">
              <mxPoint x="809" y="704" />
              <mxPoint x="809" y="187" />
              <mxPoint x="1191" y="187" />
            </Array>
          </mxGeometry>
        </mxCell>
        <mxCell id="sWFFTnbAKkjl3vQsKtu8-82" parent="1" style="text;html=1;fontSize=10;align=center;fontColor=#666666;" value="&lt;i&gt;T (optional)&lt;/i&gt;&lt;br&gt;Text Instruction" vertex="1">
          <mxGeometry height="35" width="100" x="10" y="32" as="geometry" />
        </mxCell>
        <mxCell id="sWFFTnbAKkjl3vQsKtu8-83" edge="1" parent="1" source="sWFFTnbAKkjl3vQsKtu8-82" style="edgeStyle=orthogonalEdgeStyle;rounded=1;strokeWidth=1;strokeColor=#999999;dashed=1;" target="sWFFTnbAKkjl3vQsKtu8-13">
          <mxGeometry relative="1" as="geometry">
            <Array as="points">
              <mxPoint x="220" y="49" />
              <mxPoint x="220" y="100" />
            </Array>
          </mxGeometry>
        </mxCell>
        <mxCell id="sWFFTnbAKkjl3vQsKtu8-84" parent="1" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#EEEEEE;strokeColor=#999999;fontSize=9;fontColor=#666666;" value="&lt;b&gt;Omni-RoPE&lt;/b&gt;&lt;br&gt;(id_seq, h, w)&lt;br&gt;per token" vertex="1">
          <mxGeometry height="45" width="100" x="1358" y="248" as="geometry" />
        </mxCell>
        <mxCell id="sWFFTnbAKkjl3vQsKtu8-86" parent="1" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#f8cecc;strokeColor=#b85450;opacity=20;" value="" vertex="1">
          <mxGeometry height="100" width="520" x="165" y="661" as="geometry" />
        </mxCell>
      </root>
    </mxGraphModel>
  </diagram>
</mxfile>
